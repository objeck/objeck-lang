ARGS=-O3 -Wall -Wno-unused-function -std=c++17

CC=g++
SRC=builder.o
OBJ_LIBS=objeck.res
EXE=obb

$(EXE): $(SRC) $(OBJ_LIBS)
	$(CC) -m64 -fuse-ld=lld -o $(EXE) $(SRC) $(OBJ_LIBS) -lz

%.o: %.cpp
	$(CC) -m64 $(ARGS) -c $< 

objeck.res:
	windres vs/builder/objeck.rc -O coff -o objeck.res

clean:
	rm -f $(EXE) *.o *~ *.res
